{% extends 'creme_core/bricks/generic/hat-bar.html' %}
{% load i18n creme_bricks creme_perms creme_widgets  %}
{% load url from creme_core_tags %}

{% block buttons %}
    <div class='bar-action'>
        <a class="bar-button" href="{% url 'reports__export_report_preview' object.id %}">{% translate 'Preview' context 'reports-preview' as preview_label %}
            {% widget_icon name='view' size='brick-hat-bar-button' label=preview_label %}
        </a>
    </div>
    <div class='bar-action'>
      {% if user|has_perm_to_export:object.ct %}
        {% brick_bar_button action='reports-export' url='reports__export_report_filter'|url:object.id label=_('Download CSV') icon='document_csv' %}
      {% else %}
        {% brick_bar_button action='reports-export' url='' label=_('Download CSV') icon='document_csv' help_text=_('You cannot export this type of entity') enabled=False %}
      {% endif%}
    </div>
    {{block.super}}
{% endblock %}