{% extends 'emails/bricks/base/synchronization.html' %}
{% load i18n creme_bricks %}
{% load url from creme_core_tags %}

{% block brick_extra_class %}{{block.super}} emails-sync-spam-brick{% endblock %}

{% block brick_header_title %}
    {% translate '%s Email selected' as sel_fmt %}{% translate '%s Emails selected' as sel_plural_fmt %}
    {% brick_header_title title=_('{count} Incoming email marked as spam') plural=_('{count} Incoming emails marked as spam') empty=verbose_name icon='spam' selection_title=sel_fmt selection_plural=sel_plural_fmt %}
{% endblock %}

{% block brick_header_actions %}
    {% brick_header_action id='emailsync-action' url='emails__crudity_set_email_status'|url:'waiting' type='add' label=_('Mark the selection as «to be treated»') icon='email' %}
    {{block.super}}
{% endblock %}

{% block mail_sync_actions %}
    <td {% brick_table_data_status action %}>
        {% brick_table_action id='emailsync-action' url='emails__crudity_set_email_status'|url:'waiting' __id=mail.id label=_('Mark as «to be treated»') icon='email' %}
    </td>
    {{block.super}}
{% endblock %}
